(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var s,r,a,l,c,o,i,u,d,m,b,j,f,h,x,p=n(0),g=n.n(p),O=n(41),w=n.n(O),v=n(24),A=n(19),N=n(6),y=n(45),P=n(16),k=n(1),M=Object(P.b)((function(e){return{userAuth:e.userState.userAuth}}))((function(e){var t=e.userAuth,n=e.component,s=Object(y.a)(e,["userAuth","component"]);return Object(k.jsx)(A.b,Object(N.a)(Object(N.a)({},s),{},{render:function(e){return t?Object(k.jsx)(A.a,{to:"/"}):Object(k.jsx)(n,Object(N.a)({},e))}}))})),C=Object(P.b)((function(e){return{userAuth:e.userState.userAuth}}))((function(e){var t=e.userAuth,n=e.component,s=Object(y.a)(e,["userAuth","component"]);return Object(k.jsx)(A.b,Object(N.a)(Object(N.a)({},s),{},{render:function(e){return t?Object(k.jsx)(n,Object(N.a)({},e)):Object(k.jsx)(A.a,{to:"/login"})}}))})),D=n.p+"static/media/community-logo-1.8c29986b.svg",I=n(21),S=n(59),L=JSON.parse(localStorage.getItem("userAuth")),E={userAuth:L||null},B=E,z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.payload;switch(n){case"LOGIN":return Object(N.a)(Object(N.a)({},e),{},{userAuth:s});case"LOGOUT":return Object(N.a)(Object(N.a)({},e),{},{userAuth:null});default:return e}},G={getPost:{}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.payload;switch(n){case"GET_POST":return Object(N.a)(Object(N.a)({},e),{},{getPost:s});case"LIKE_POST":return Object(N.a)(Object(N.a)({},e),{},{likePost:s});default:return e}},T=localStorage.getItem("theme"),Q={themeMode:T||"dark"},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.payload;switch(n){case"LIGHT_THEME":case"DARK_THEME":return{themeMode:s};default:return e}},F=Object(S.a)({userState:z,postsState:Y,themeState:J}),U=Object(S.b)(F),Z={login:function(e){U.dispatch({type:"LOGIN",payload:e}),localStorage.setItem("userAuth",JSON.stringify(e))},logout:function(){U.dispatch({type:"LOGOUT",payload:null}),localStorage.removeItem("userAuth")}},X="data:image/png;base64,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",H=n(17),V=function(e){var t=e.userAuth,n=Object(A.g)();return Object(k.jsxs)(I.b,{as:"div",className:"relative",children:[Object(k.jsx)(I.b.Button,{className:"flex items-center focus:outline-none",children:t?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"rounded-full sm:h-9 sm:w-9 h-7 w-7 md:mx-3 mx-2",children:Object(k.jsx)("img",{src:""!==t.profilePhoto?t.profilePhoto:X,alt:"avatar",className:"object-cover rounded-full h-full w-full"})}),Object(k.jsx)("h1",{className:"hidden md:flex pr-2 font-semibold text-icon",children:t.username})]}):Object(k.jsx)(H.h,{className:"icon icon-button"})}),Object(k.jsxs)(I.b.Items,{className:"flex flex-col absolute origin-top-right sm:top-12 top-10 right-0\r shadow z-50 overflow-hidden bg-default rounded-md\r border border-gray-500 border-opacity-20 w-24",children:[Object(k.jsxs)(I.b.Item,{as:"div",onClick:function(){return n.push("/".concat(t.username))},className:"button p-2 flex items-center space-x-2 hover-active-gray",children:[Object(k.jsx)(H.h,{className:"h-4"}),Object(k.jsx)("p",{children:"Profile"})]}),Object(k.jsxs)(I.b.Item,{as:"div",onClick:function(){Z.logout(),n.push("/")},className:"button p-2 flex items-center space-x-2 hover-active-gray",children:[Object(k.jsx)(H.f,{className:"h-4"}),Object(k.jsx)("p",{children:"Logout"})]})]})]})},W=n(5),R=n(12),K=n(11),q=n(8),$=Object(q.a)(s||(s=Object(K.a)(["\n   query getUser(\n      $username: String!\n   ) {\n      getUser(\n         username: $username\n      ) {\n         id\n         fullname\n         username\n         profilePhoto\n         coverPhoto\n         about\n         website\n         createdAt\n         followers{\n            id\n            fullname\n            username\n            profilePhoto\n         }\n         following{\n            id\n            fullname\n            username\n            profilePhoto\n         }\n      }\n   }\n"]))),_=Object(q.a)(r||(r=Object(K.a)(["\n   query searchUsers(\n      $username: String!\n   ) {\n      searchUsers(\n         searchUsersInput: {\n            username: $username\n         }\n      ) {\n         username\n         fullname\n         profilePhoto\n      }\n   }\n"]))),ee=n(18),te=function(e){var t=e.history,n=Object(p.useState)(""),s=Object(W.a)(n,2),r=s[0],a=s[1],l=Object(p.useState)([]),c=Object(W.a)(l,2),o=c[0],i=c[1],u=Object(p.useState)(!1),d=Object(W.a)(u,2),m=d[0],b=d[1],j=Object(R.useQuery)(_,{variables:{username:r}}),f=j.data,h=j.refetch;return Object(p.useEffect)((function(){h(),f&&i(f.searchUsers)}),[f,h,o]),Object(k.jsxs)("div",{className:"relative w-full ml-1",children:[Object(k.jsxs)("div",{className:"".concat(m&&"border border-opacity-70 border-blue-600","\n            flex items-center bg-paper rounded-3xl"),children:[Object(k.jsx)(ee.f,{className:"icon text-gray-500\n               ".concat(m&&"text-blue-600")}),Object(k.jsx)("input",{onFocus:function(){return b(!0)},onBlur:function(){return setTimeout((function(){b(!1)}),200)},onChange:function(e){a(e.target.value)},value:r,type:"text",spellCheck:"false",placeholder:"Search",className:"bg-transparent focus:outline-none w-full group"})]}),Object(k.jsx)("div",{className:"".concat(!m&&"hidden","\n            border border-gray-500 border-opacity-20 max-h-60 overflow-auto overscroll-contain\n            flex flex-col space-y-2 absolute origin-top-left sm:top-14 top-12 left-0\n            shadow w-full sm:p-2 p-1 z-50 bg-default rounded-md"),children:""!==r&&Object.values(o).length>0?o.map((function(e){return Object(k.jsxs)("button",{onClick:function(){return t.push("/".concat(e.username))},className:"button hover:bg-blue-500 hover:bg-opacity-20 rounded-md \r flex items-center py-1",children:[Object(k.jsx)("div",{className:" sm:h-12 sm:w-12 h-10 w-10 p-2 rounded-full",children:Object(k.jsx)("img",{className:"object-cover rounded-full h-full w-full",src:e.profilePhoto?e.profilePhoto:X,alt:"avatar"})}),Object(k.jsxs)("div",{className:"flex flex-col flex-grow items-start ml-1",children:[Object(k.jsx)("h1",{className:"font-semibold whitespace-nowrap",children:e.fullname}),Object(k.jsxs)("h1",{className:"text-disabled font-sans",children:["@",e.username]})]})]},e.username)})):Object(k.jsx)("div",{className:"flex items-center justify-center py-2",children:Object(k.jsx)("p",{className:"",children:"Try searching for people"})})})]})},ne=function(e){var t=e.userAuth,n=e.history;return Object(k.jsx)("nav",{className:"w-full top-0 left-0 sm:pb-4 bg-default fixed z-40",children:Object(k.jsx)("div",{className:"max-w-screen-xl mx-auto xl:px-4 px-2 h-16 sm:h-20",children:Object(k.jsxs)("div",{className:"h-full w-full flex items-center justify-between",children:[Object(k.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 w-1/4 font-raleway",children:[Object(k.jsx)("img",{className:"h-10 ml-2",src:D,alt:"logo"}),Object(k.jsx)("span",{className:"hidden lg:flex text-lg tracking-wider text-icon font-medium",children:"COMMUNITY"})]}),Object(k.jsx)("div",{className:"sm:w-2/4 lg:mx-8 w-full flex",children:t&&Object(k.jsx)(te,{history:n})}),Object(k.jsx)("div",{className:"sm:w-1/4 flex justify-end ml-1",children:Object(k.jsx)(V,{userAuth:t})})]})})})},se={lightTheme:function(){U.dispatch({type:"LIGHT_THEME",payload:"light"}),localStorage.setItem("theme","light")},darkTheme:function(){U.dispatch({type:"DARK_THEME",payload:"dark"}),localStorage.setItem("theme","dark")}},re=function(e){var t=e.history,n=e.location,s=e.userAuth,r=e.themeMode;return Object(k.jsx)("nav",{className:"w-full bottom-0 left-0 p-2 fixed overflow-hidden z-50 bg-default sm:hidden",children:Object(k.jsxs)("div",{className:"h-11 flex items-center justify-around\r bg-paper rounded-md text-icon",children:[Object(k.jsx)(ee.b,{onClick:function(){return t.push("/")},className:"button h-9 p-2 rounded-full hover-active-gray\n               ".concat("/"===n.pathname&&"text-primary")}),Object(k.jsx)(ee.i,{onClick:function(){return t.push("/".concat(s.username))},className:"button h-9 p-2 rounded-full hover-active-gray\n               ".concat(n.pathname==="/".concat(s.username)&&"text-primary")}),"light"===r?Object(k.jsx)(ee.c,{className:"button h-9 p-2 rounded-full hover-active-gray",onClick:se.darkTheme}):Object(k.jsx)(ee.g,{className:"button h-9 p-2 rounded-full hover-active-gray",onClick:se.lightTheme})]})})},ae=function(e){var t=e.Icon,n=e.title,s=e.className,r=e.onClick;return Object(k.jsxs)("div",{className:"flex items-center justify-center space-x-2 w-full xl:px-2 px-1",children:[Object(k.jsx)(t,{onClick:r,className:"button h-11 p-3 active-blue hover-blue rounded-full ".concat(s)}),Object(k.jsx)("button",{onClick:r,className:"button hidden xl:flex flex-grow \n            items-center justify-center text-xl rounded-full\n            hover-blue active-blue tracking-wider\n            font-bold w-3/4 ml-2 py-2 ".concat(s),children:n})]})},le=n(20),ce=n.n(le),oe=n(28),ie=function(){var e=Object(oe.a)(ce.a.mark((function e(t,n){var s,r,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return n(!0),(s=new FormData).append("file",t),s.append("upload_preset","community-app"),s.append("cloud_name","edugabriel7-apps"),e.next=8,fetch("https://api.cloudinary.com/v1_1/edugabriel7-apps/image/upload",{method:"POST",body:s});case 8:return r=e.sent,e.next=11,r.json();case 11:return a=e.sent,e.abrupt("return",a.url);case 13:return e.abrupt("return","");case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(oe.a)(ce.a.mark((function e(t,n){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=14;break}if("image/jpg"===t.type||"image/jpeg"===t.type||"image/png"===t.type){e.next=6;break}return n("the file must be of type image"),e.abrupt("return",null);case 6:if(!(t.size>10485760)){e.next=11;break}return n("the image must be less than 10 mb"),e.abrupt("return",null);case 11:return e.abrupt("return",t);case 12:e.next=15;break;case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=Object(q.a)(a||(a=Object(K.a)(["\n   mutation createPost(\n      $userId: ID!\n      $content: String!\n      $images: [String!]\n   ) {\n      createPost(\n         createPostInput: {\n            userId: $userId\n            content: $content\n            images: $images\n         }\n      ) {\n         id\n         content\n         images\n      }\n   }\n"]))),me=function(e){var t=e.errorMessage,n=e.successMessage;e.setShowModal,e.toShowModal;return Object(k.jsx)("div",{className:"relative h-full w-full flex items-center justify-center",children:t?Object(k.jsx)("div",{className:"text-red-500 font-semibold sm:text-lg",children:t}):Object(k.jsx)("div",{className:"text-green-500 font-semibold sm:text-lg",children:n})})},be=function(e){var t=e.className;return Object(k.jsx)("svg",{className:"svg-inline--fa fa-spinner fa-w-16 ".concat(t),"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"spinner",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(k.jsx)("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"})})},je=Object(P.b)((function(e){return{themeMode:e.themeState.themeMode}}))((function(e){var t=e.themeMode,n=e.isOpen,s=e.setIsOpen,r=e.showModal,a=e.setShowModal,l=e.values,c=e.setValues,o=e.setFile,i=e.error,u=e.isLoading,d=e.onChangeContent,m=e.onChangeFile,b=e.onSubmitPub;return Object(k.jsx)(I.a,{as:"div",className:"".concat(t," fixed z-50 inset-0 overflow-y-auto\n            sm:text-sm text-xs text-default"),open:n,onClose:function(){s(!1),a("publish")},children:Object(k.jsxs)("div",{className:"min-h-screen px-2 text-center",children:[Object(k.jsx)(I.a.Overlay,{className:"fixed inset-0 bg-shadow opacity-50"}),Object(k.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(k.jsxs)("div",{className:"inline-block w-full lg:max-w-2xl sm:max-w-xl max-w-md\r sm:h-96 h-72 sm:p-4 p-2 overflow-hidden\r align-middle transition-all transform bg-default rounded-2xl",children:[Object(k.jsx)("button",{onClick:function(){return s(!1)},className:"button absolute z-40 origin-top-right top-2 right-2\r rounded-full text-icon p-1 hover-active-gray",children:Object(k.jsx)(ee.j,{className:"sm:h-5 h-4"})}),"publish"===r&&Object(k.jsxs)("div",{className:"flex flex-col space-y-2 justify-between h-full w-full pt-4 px-4 pb-2",children:[Object(k.jsx)("textarea",{onChange:d,value:l.content,maxLength:"500",placeholder:"Write your post",className:"input-text w-full h-full sm:text-lg border-none\r focus:border-none resize-none"}),""!==l.imageUrl&&Object(k.jsxs)("div",{className:"relative flex h-2/5 w-1/2",children:[Object(k.jsx)("img",{src:l.imageUrl,alt:"publishImage",className:"h-full w-full object-cover rounded-lg"}),Object(k.jsx)("div",{className:"absolute h-full w-full flex items-center justify-center",children:Object(k.jsx)(ee.h,{onClick:function(){o(null),c(Object(N.a)(Object(N.a)({},l),{},{imageUrl:""}))},className:"button sm:h-9 h-8 p-2 rounded-full hover-active-gray\r text-gray-200"})})]}),Object(k.jsxs)("div",{className:"flex justify-between items-center",children:[Object(k.jsx)("label",{htmlFor:"publishPicture",children:Object(k.jsx)(ee.e,{className:"button hover-active-gray rounded-full sm:h-9 h-8 p-2"})}),Object(k.jsx)("input",{onChange:m,id:"publishPicture",type:"file",accept:"image/*",className:"hidden"}),Object(k.jsx)("button",{disabled:""===l.content&&""===l.imageUrl,onClick:b,className:"button button-blue sm:py-2 py-1 rounded-full\n                           ml-auto sm:w-24 w-20 flex items-center justify-center\n                           ".concat(""===l.content&&""===l.imageUrl&&"opacity-60"),children:u?Object(k.jsx)(be,{className:"animate-spin sm:h-5 h-4",viewBox:"0 0 24 24"}):"Publish"})]})]}),"message"===r&&Object(k.jsx)(me,{errorMessage:i,successMessage:"Successfull post",setShowModal:a,toShowModal:"publish"})]})]})})})),fe=function(e){var t=e.isOpen,n=e.setIsOpen,s=e.showModal,r=e.setShowModal,a=e.values,l=e.setValues,c=e.setFile,o=e.onChangeFile,i=e.onChangeContent,u=e.onSubmitPub,d=e.isLoading,m=e.error;return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"flex items-center justify-center space-x-2 w-full xl:px-2 px-1",children:[Object(k.jsx)(ee.d,{onClick:function(){return n(!0)},className:"button h-11 rounded-full p-3 hover-blue active-blue"}),Object(k.jsx)("button",{onClick:function(){return n(!0)},className:"hidden xl:flex flex-grow justify-center button text-xl font-bold\r hover-blue active-blue rounded-full py-2 font-raleway tracking-wider",children:"Publish"})]}),Object(k.jsx)(je,{isOpen:t,setIsOpen:n,showModal:s,setShowModal:r,values:a,setValues:l,setFile:c,onChangeFile:o,onChangeContent:i,onSubmitPub:u,isLoading:d,error:m})]})},he=Object(P.b)((function(e){return{userAuth:e.userState.userAuth,themeMode:e.themeState.themeMode}}))((function(e){var t=e.userAuth,n=Object(p.useState)("publish"),s=Object(W.a)(n,2),r=s[0],a=s[1],l=Object(p.useState)(null),c=Object(W.a)(l,2),o=c[0],i=c[1],u=Object(p.useState)(!1),d=Object(W.a)(u,2),m=d[0],b=d[1],j=Object(p.useState)(!1),f=Object(W.a)(j,2),h=f[0],x=f[1],g=Object(p.useState)(null),O=Object(W.a)(g,2),w=O[0],v=O[1],A=Object(p.useState)({content:"",imageUrl:""}),y=Object(W.a)(A,2),P=y[0],M=y[1],C=Object(R.useMutation)(de,{update:function(){M({content:"",imageUrl:""}),v(null),a("message")},onError:function(e){console.log(e),i(e.message),a("message")}}),D=Object(W.a)(C,2),I=D[0],S=D[1].loading,L=function(){var e=Object(oe.a)(ce.a.mark((function e(n){var s,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ue(w,i);case 3:if(s=e.sent,!o){e.next=8;break}a("message"),e.next=14;break;case 8:return console.log(P),e.next=11,ie(s,b);case 11:return r=e.sent,e.next=14,I({variables:Object(N.a)(Object(N.a)({},P),{},{userId:t.id,images:[r]})});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.useEffect)((function(){b(!!S)}),[S]),Object(k.jsx)(fe,{isOpen:h,setIsOpen:x,values:P,setValues:M,setFile:v,onChangeFile:function(e){e.target.files[0]&&(v(e.target.files[0]),M(Object(N.a)(Object(N.a)({},P),{},{imageUrl:URL.createObjectURL(e.target.files[0])})))},onChangeContent:function(e){M(Object(N.a)(Object(N.a)({},P),{},{content:e.target.value}))},onSubmitPub:L,showModal:r,setShowModal:a,isLoading:m,error:o})})),xe=function(e){var t=e.userAuth,n=e.themeMode,s=e.history,r=e.location;return Object(k.jsxs)("div",{className:"hidden sm:flex flex-col space-y-10 text-icon fixed \r mb-auto w-16 xl:w-64 pt-24",children:[Object(k.jsxs)("div",{className:"flex flex-col space-y-3 bg-paper rounded-3xl py-4 w-full \r font-raleway",children:[Object(k.jsx)(ae,{Icon:ee.b,title:"Home",onClick:function(){return s.push("/")},className:"/"===r.pathname?"text-primary":""}),Object(k.jsx)(ae,{Icon:ee.i,title:"Profile",onClick:function(){return s.push("/"+t.username)},className:r.pathname==="/"+t.username?"text-primary":""}),"light"===n?Object(k.jsx)(ae,{Icon:ee.c,onClick:se.darkTheme,title:"Dark"}):Object(k.jsx)(ae,{Icon:ee.g,onClick:se.lightTheme,title:"Light"})]}),Object(k.jsx)("div",{className:"flex flex-col space-y-3 bg-paper rounded-3xl py-4 w-full",children:Object(k.jsx)(he,{})})]})},pe=Object(P.b)((function(e){return{userAuth:e.userState.userAuth,themeMode:e.themeState.themeMode}}))((function(e){var t=e.userAuth,n=e.themeMode,s=Object(A.g)(),r=Object(A.h)();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ne,{userAuth:t,history:s,location:r}),Object(k.jsx)(re,{userAuth:t,history:s,location:r,themeMode:n}),Object(k.jsx)(xe,{userAuth:t,themeMode:n,history:s,location:r})]})})),ge=n.p+"static/media/community-logo-1.8c29986b.svg",Oe=n.p+"static/media/community-background.f9be7d42.jpg",we=n(46),ve=function(e){var t=e.className;return Object(k.jsx)("svg",{className:"svg-inline--fa fa-github fa-w-16 ".concat(t),"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"github",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",children:Object(k.jsx)("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})},Ae=function(e){var t=e.className;return Object(k.jsx)("svg",{className:"svg-inline--fa fa-linkedin-in fa-w-14 ".concat(t),"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"linkedin-in",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(k.jsx)("path",{fill:"currentColor",d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"})})},Ne=function(e){var t=e.children,n=e.themeMode;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"relative md:h-full h-2/5 md:w-1/2 w-full\r md:p-4 p-2 pb-0 flex items-center justify-center",children:[Object(k.jsx)("div",{className:"h-full w-full",children:Object(k.jsx)(we.LazyLoadImage,{src:Oe,alt:"community-background",effect:"blur",height:"100%",width:"100%",className:"w-full h-full object-cover md:rounded-3xl rounded-md"})}),Object(k.jsxs)("div",{className:"absolute flex items-center space-x-2\r p-4 rounded-3xl",children:[Object(k.jsx)("img",{className:"sm:h-16 h-12 ml-2",src:ge,alt:"logo"}),Object(k.jsx)("span",{className:"flex sm:text-3xl text-lg text-white tracking-wider",children:"COMMUNITY"})]})]}),Object(k.jsxs)("div",{className:"relative md:h-screen h-full md:w-1/2 w-full flex flex-col\r items-center justify-center md:px-4 md:py-16 p-2 pb-14",children:[t,Object(k.jsxs)("div",{className:"absolute md:p-4 py-2 origin-bottom-right\r bottom-0 right-0 w-full flex items-center justify-center \r space-x-12 text-icon",children:["light"===n?Object(k.jsx)(ee.c,{className:"md:h-12 h-10 button hover-active-gray p-2 rounded-full",onClick:se.darkTheme}):Object(k.jsx)(ee.g,{className:"md:h-12 h-10 button hover-active-gray p-2 rounded-full",onClick:se.lightTheme}),Object(k.jsx)("a",{href:"https://github.com/eduargabriel7",target:"_blank",rel:"noopener noreferrer",children:Object(k.jsx)(ve,{className:"md:h-12 h-10 button hover-active-gray p-2.5 rounded-full"})}),Object(k.jsx)("a",{href:"https://www.linkedin.com/in/eduardo-gabriel-sarmiento/",target:"_blank",rel:"noopener noreferrer",className:"rounded-full button hover-active-gray",children:Object(k.jsx)(Ae,{className:"md:h-12 h-10  p-2.5"})})]})]})]})},ye=Object(P.b)((function(e){return{userAuth:e.userState.userAuth,themeMode:e.themeState.themeMode}}))((function(e){var t=e.children,n=e.userAuth,s=e.themeMode;return Object(k.jsx)(k.Fragment,{children:n?Object(k.jsx)("div",{className:"".concat(s," h-screen w-full overflow-auto overscroll-contain\n                  flex bg-default text-default font-sans sm:text-sm text-xs"),children:Object(k.jsxs)("div",{className:"relative max-w-screen-xl mx-auto w-full \r flex px-2",children:[Object(k.jsx)(pe,{}),t]})}):Object(k.jsx)("div",{className:"".concat(s," h-screen bg-default w-full\n                  flex md:flex-row flex-col \n                  overflow-auto overscroll-contain\n                  text-default font-raleway sm:text-sm text-xs"),children:Object(k.jsx)(Ne,{themeMode:s,children:t})})})})),Pe=Object(q.a)(l||(l=Object(K.a)(["\n   query {\n      getPosts {\n         id\n         content\n         images\n         user{\n            id\n            username\n            fullname\n            profilePhoto\n         }\n         comments{\n            id\n            content\n            user {\n               id\n               username\n               fullname\n               profilePhoto\n            }\n            likes {\n               id\n               username\n               fullname\n               profilePhoto\n            }\n            comments {\n               id\n               content\n            }\n            createdAt\n         }\n         likes{\n            id\n            username\n            fullname\n            profilePhoto\n         }\n         createdAt\n         updatedAt\n      }\n   }\n"]))),ke=Object(q.a)(c||(c=Object(K.a)(["\n   mutation likePost(\n      $postId: ID!\n      $userId: ID!\n   ) {\n      likePost(\n         likePostInput: {\n            postId: $postId\n            userId: $userId\n         }\n      ) {\n         id\n      }\n   }\n"]))),Me=Object(q.a)(o||(o=Object(K.a)(["\n\n   subscription newLikePost(\n      $postId: ID!\n   ) {\n      newLikePost(\n         postId: $postId\n      ) {\n         userLike{\n            id\n            username\n            fullname\n            profilePhoto\n         }\n      }\n   }\n"]))),Ce=Object(q.a)(i||(i=Object(K.a)(["\n\n   subscription newCommentPost(\n      $postId: ID!\n   ) {\n      newCommentPost(\n         postId: $postId\n      ) {\n         comment{\n            id\n            content\n            user{\n               username\n               fullname\n               profilePhoto\n            }\n            likes{\n               id\n            }\n         }\n      }\n   }\n"]))),De=n(36),Ie=function(e,t,n){var s=n.variables.postId;return function(){e({document:t,variables:{postId:s},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data||!e.getPosts)return e;var r=n.data.newLikePost.userLike,a=e.getPosts.find((function(e){return e.id===s}));return a?a.likes.find((function(e){return e.id===r.id}))?Object.assign({},e,{getPosts:e.getPosts.map((function(e){return e.id===s?Object.assign({},e,{likes:e.likes.filter((function(e){return e.id!==r.id}))}):e}))}):Object.assign({},e,{getPosts:e.getPosts.map((function(e){return e.id===s?Object.assign({},e,{likes:[].concat(Object(De.a)(e.likes),[r])}):e}))}):e}})}},Se=function(e,t,n){var s=n.variables.postId;return function(){e({document:t,variables:{postId:s},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data||!e.getPosts)return e;var r=n.data.newCommentPost.comment;return Object.assign({},e,{getPosts:e.getPosts.map((function(e){return e.id===s?Object.assign({},e,{comments:[].concat(Object(De.a)(e.comments),[r])}):e}))})}})}},Le=n(42),Ee=n.n(Le),Be=function(e){var t=e.profilePhoto,n=e.fullname,s=e.username;return Object(k.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(k.jsx)("div",{className:"sm:h-12 sm:w-12 h-8 w-8 sm:min-w-12 min-w-8 rounded-full",children:Object(k.jsx)(we.LazyLoadImage,{src:""!==t?t:X,alt:"avatar",height:"100%",width:"100%",className:"h-full w-full object-cover rounded-full"})}),Object(k.jsxs)("div",{className:"flex flex-col text-left",children:[Object(k.jsx)("p",{className:"font-semibold",children:n}),Object(k.jsxs)("p",{className:"text-disabled font-sans",children:["@",s]})]})]})},ze=Object(P.b)((function(e){return{themeMode:e.themeState.themeMode}}))((function(e){var t=e.post,n=e.userAuth,s=e.isOpen,r=e.setIsOpen,a=e.showModal,l=e.setShowModal,c=e.values,o=e.error,i=e.loading,u=e.onChangeContent,d=e.onSubmitComment,m=e.themeMode;return Object(k.jsx)(I.a,{as:"div",className:"".concat(m," fixed z-50 inset-0 overflow-y-auto\n            sm:text-sm text-xs text-default"),open:s,onClose:function(){r(!1),l("comment")},children:Object(k.jsxs)("div",{className:"min-h-screen px-2 text-center",children:[Object(k.jsx)(I.a.Overlay,{className:"fixed inset-0 bg-shadow opacity-50"}),Object(k.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(k.jsxs)("div",{className:"inline-block w-full lg:max-w-2xl sm:max-w-xl max-w-md\r sm:h-112 h-80 sm:p-4 p-2 overflow-hidden\r align-middle transition-all transform bg-default rounded-2xl",children:[Object(k.jsx)("button",{onClick:function(){return r(!1)},className:"button absolute z-40 origin-top-right top-2 right-2\r rounded-full text-icon p-1 hover-active-gray bg-default",children:Object(k.jsx)(H.i,{className:"sm:h-5 h-4"})}),"comment"===a&&Object(k.jsxs)("div",{className:"h-full w-full flex flex-col items-start p-2 sm:space-y-3 space-y-2",children:[Object(k.jsx)(Be,{profilePhoto:t.user.profilePhoto,fullname:t.user.fullname,username:t.user.username}),Object(k.jsxs)("div",{className:"flex sm:h-24 h-20",children:[Object(k.jsx)("div",{className:"h-full px-4 sm:pl-6",children:Object(k.jsx)("div",{className:"h-full border-r border-gray-500 border-opacity-60"})}),""!==t.content?Object(k.jsx)("div",{className:"overflow-auto overscroll-contain pr-2",children:Object(k.jsx)("p",{className:"text-left",children:t.content})}):Object(k.jsx)("img",{src:t.images[0],alt:"postimg",className:"h-full sm:w-2/5 w-1/2 rounded-md object-cover"})]}),Object(k.jsx)(Be,{profilePhoto:n.profilePhoto,fullname:n.fullname,username:n.username}),Object(k.jsx)("textarea",{onChange:u,value:c.content,maxLength:"500",placeholder:"Write your comment",className:"input-text h-32 w-full sm:pl-10 pl-8 pr-2\r sm:text-base border-none focus:border-none resize-none"}),Object(k.jsx)("button",{onClick:d,disabled:""===c.content,className:"".concat(""===c.content&&"opacity-60","\n                        button button-blue sm:py-2 py-1 rounded-full\n                        ml-auto sm:w-24 w-20 flex items-center justify-center"),children:i?Object(k.jsx)(be,{className:"animate-spin sm:h-5 h-4",viewBox:"0 0 24 24"}):"Comment"})]}),"message"===a&&Object(k.jsx)(me,{errorMessage:o,successMessage:"Successfull Comment",setShowModal:l,toShowModal:"comment"})]})]})})})),Ge=Object(q.a)(u||(u=Object(K.a)(["\n   mutation createCommentPost(\n      $postId: ID!\n      $userId: ID!\n      $content: String!\n   ) {\n      createCommentPost(\n         createCommentPostInput: {\n            postId: $postId\n            userId: $userId\n            content: $content\n         }\n      ) {\n         id\n         content\n         user {\n            id\n            username\n            fullname\n            profilePhoto\n         }\n      }\n   }\n"]))),Ye=function(e){var t=e.post,n=e.userAuth,s=Object(p.useState)(!1),r=Object(W.a)(s,2),a=r[0],l=r[1],c=Object(p.useState)("comment"),o=Object(W.a)(c,2),i=o[0],u=o[1],d=Object(p.useState)({content:""}),m=Object(W.a)(d,2),b=m[0],j=m[1],f=Object(p.useState)(null),h=Object(W.a)(f,2),x=h[0],g=h[1],O=Object(R.useMutation)(Ge,{update:function(){j({content:""}),u("message")},onError:function(e){console.log(e),g(e.message),u("message")}}),w=Object(W.a)(O,2),v=w[0],A=w[1].loading,y=function(){var e=Object(oe.a)(ce.a.mark((function e(s){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),!x){e.next=5;break}u("message"),e.next=7;break;case 5:return e.next=7,v({variables:{postId:t.id,userId:n.id,content:b.content}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"button flex items-center sm:hover:text-green-500",children:[Object(k.jsx)(H.c,{onClick:function(){return l(!0)},className:"button h-9 p-2 rounded-full hover-active-green"}),Object(k.jsx)("p",{children:t.comments.length})]}),Object(k.jsx)(ze,{post:t,userAuth:n,isOpen:a,setIsOpen:l,showModal:i,setShowModal:u,values:b,setValues:j,error:x,loading:A,onChangeContent:function(e){j(Object(N.a)(Object(N.a)({},b),{},{content:e.target.value}))},onSubmitComment:y})]})},Te=function(e){var t=e.isLiked,n=e.onClickLike,s=e.likes;return Object(k.jsx)("div",{className:"button flex items-center sm:hover:text-pink-700",children:t?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ee.a,{onClick:n,className:"button h-9 p-2 rounded-full hover-active-pink text-pink-700"}),Object(k.jsx)("p",{className:"text-pink-700",children:s.length})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(H.e,{onClick:n,className:"button h-9 p-2 rounded-full hover-active-pink"}),Object(k.jsx)("p",{children:s.length})]})})},Qe=function(e){var t=e.post,n=e.userAuth,s=e.onClickLike,r=e.subscribeToNewLike,a=Object(p.useState)(!1),l=Object(W.a)(a,2),c=l[0],o=l[1],i=Object(A.g)();return Object(p.useEffect)((function(){o(!!t.likes.find((function(e){return e.id===n.id})))}),[r]),Object(k.jsxs)("div",{className:"relative w-full bg-paper sm:rounded-3xl rounded-md \r sm:p-4 p-2 flex flex-col space-y-2 sm:hover:bg-hoverPaper",children:[Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)(Be,{profilePhoto:t.user.profilePhoto,fullname:t.user.fullname,username:t.user.username})}),Object(k.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(k.jsx)("div",{children:Object(k.jsx)("p",{children:t.content})}),t.images.length>0&&""!==t.images[0]&&Object(k.jsx)("div",{className:"sm:max-h-72 max-h-52 sm:max-w-lg w-full",children:Object(k.jsx)(we.LazyLoadImage,{src:t.images[0],alt:"postImage",effect:"blur",height:"100%",width:"100%",className:"w-full h-full object-cover rounded-md"})})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-3 text-icon",children:[Object(k.jsx)(Te,{isLiked:c,onClickLike:s,likes:t.likes}),Object(k.jsx)(Ye,{post:t,userAuth:n})]}),Object(k.jsx)("p",{className:"text-disabled px-1",children:Ee()(t.createdAt).fromNow()}),Object(k.jsx)("button",{onClick:function(){return i.push("/".concat(t.user.username,"/").concat(t.id))},className:"absolute origin-bottom-right sm:bottom-4 bottom-2 \r sm:right-4 right-2 button border-2 border-blue-600 \r text-blue-500 font-semibold hover-active-blue\r sm:w-16 w-14 sm:py-1 py-1 rounded-3xl",children:"View"})]})},Je=Object(P.b)((function(e){return{userAuth:e.userState.userAuth}}))((function(e){var t=e.subscribeToMore,n=e.post,s=e.userAuth,r=Object(R.useMutation)(ke,{onError:function(e){console.log(e)}}),a=Object(W.a)(r,1)[0],l=function(){var e=Object(oe.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({variables:{postId:n.id,userId:s.id}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Ie(t,Me,{variables:{postId:n.id}}),o=Se(t,Ce,{variables:{postId:n.id}});return Object(p.useEffect)((function(){c(),o()}),[]),Object(k.jsx)(Qe,{post:n,userAuth:s,onClickLike:l,subscribeToNewLike:c})})),Fe=function(e){var t=e.subscribeToMore,n=e.posts;return Object(k.jsx)("div",{className:"w-full h-full xl:pl-72 sm:pl-20\r sm:pb-2 pb-14 sm:pt-24 pt-16",children:Object(k.jsx)("div",{className:"w-full flex flex-col space-y-4 pb-1 sm:pr-2 h-full\r overflow-auto overscroll-contain",children:n.map((function(e){return Object(k.jsx)(Je,{subscribeToMore:t,post:e},e.id)}))})})},Ue=function(){var e=Object(R.useQuery)(Pe),t=e.subscribeToMore,n=e.loading,s=e.error,r=e.data;return n?Object(k.jsx)("div",{className:"w-full h-full xl:pl-72 sm:pl-20\r sm:pb-2 pb-14 sm:pt-24 pt-16",children:Object(k.jsx)("div",{className:"w-full h-1/2 flex items-center justify-center",children:Object(k.jsx)(be,{className:"h-10 text-blue-600 animate-spin"})})}):s?Object(k.jsx)("div",{className:"w-full h-full xl:pl-72 sm:pl-20\r sm:pb-2 pb-14 sm:pt-24 pt-16",children:Object(k.jsx)("p",{children:s.message})}):Object(k.jsx)(Fe,{posts:null===r||void 0===r?void 0:r.getPosts,subscribeToMore:t})},Ze=n(31),Xe=Object(q.a)(d||(d=Object(K.a)(["\n   mutation login(\n      $email: String!\n      $password: String!\n   ) {\n      login(\n         loginInput: {\n            email: $email\n            password: $password\n         }\n      ) {\n         id\n         fullname\n         username\n         email\n         profilePhoto\n      }\n   }\n"]))),He=function(e){var t=e.values,n=e.onChangeValues,s=e.onSubmitForm,r=e.loading,a=e.errors,l=Object(A.g)(),c=Object(p.useState)(!0),o=Object(W.a)(c,2),i=o[0],u=o[1],d=Object(p.useState)(!1),m=Object(W.a)(d,2),b=m[0],j=m[1],f=Object(p.useState)(!1),h=Object(W.a)(f,2),x=h[0],g=h[1];return Object(p.useEffect)((function(){u(""===t.email||""===t.password)}),[t]),Object(k.jsxs)("div",{className:"lg:w-104 w-full lg:bg-paper lg:py-8 py-4 lg:px-8 px-4\r flex flex-col items-center space-y-5 md:rounded-3xl rounded-md",children:[Object(k.jsx)("span",{className:"sm:text-2xl text-xl font-semibold",children:"Welcome"}),Object(k.jsxs)("form",{autoComplete:"off",onSubmit:s,className:"flex flex-col items-center space-y-6 w-full max-w-xs",children:[Object(k.jsx)("input",{name:"email",type:"text",placeholder:"email",value:t.email,onChange:n,className:"input-text w-full p-2 rounded-xl\n                  ".concat((null===a||void 0===a?void 0:a.email)?"border-red-500":"")}),Object(k.jsxs)("div",{className:"input-text w-full flex items-center rounded-xl\n                  ".concat((null===a||void 0===a?void 0:a.password)&&"border-red-500","\n                  ").concat(x&&"border-blue-800"),children:[Object(k.jsx)("input",{name:"password",type:b?"text":"password",placeholder:"password",value:t.password,onFocus:function(){return g(!0)},onBlur:function(){return g(!1)},onChange:n,className:"w-full p-2 bg-transparent outline-none placeholder-gray-500\r font-medium"}),""!==t.password&&Object(k.jsx)("p",{onClick:function(){return j(!b)},className:"p-2 cursor-pointer text-gray-500",children:b?"Hide":"Show"})]}),Object(k.jsx)("button",{type:"submit",disabled:i,className:"".concat(i&&"opacity-60","\n                  button button-blue w-full p-2 rounded-xl\n                  flex items-center justify-center"),children:r?Object(k.jsx)(be,{className:"sm:h-5 h-4 text-gray-200 animate-spin"}):"Login"})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(k.jsx)("p",{children:"You do not have an account ?"}),Object(k.jsx)("p",{onClick:function(){return l.push("/register")},className:"whitespace-nowrap text-blue-600 cursor-pointer",children:"Sign up"})]}),Object.values(a).map((function(e){return Object(k.jsxs)("p",{className:"text-red-600 flex items-center",children:[Object(k.jsx)(H.d,{className:"icon"}),e]},e)}))]})},Ve=function(){var e=Object(A.g)(),t=Object(p.useState)({email:"testuser@gmail.com",password:"test1234"}),n=Object(W.a)(t,2),s=n[0],r=n[1],a=Object(p.useState)({}),l=Object(W.a)(a,2),c=l[0],o=l[1],i=Object(R.useMutation)(Xe,{update:function(t,n){var s=n.data;Z.login(s.login),e.push("/")},onError:function(e){console.log(e),o(e.graphQLErrors[0].extensions.errors)}}),u=Object(W.a)(i,2),d=u[0],m=u[1].loading;return Object(k.jsx)(He,{values:s,onChangeValues:function(e){r(Object(N.a)(Object(N.a)({},s),{},Object(Ze.a)({},e.target.name,e.target.value)))},onSubmitForm:function(e){e.preventDefault(),d({variables:s})},loading:m,errors:c})},We=function(e){var t=e.values,n=e.onChangeValues,s=e.onSubmitRegister,r=e.loading,a=e.errors,l=Object(A.g)(),c=Object(p.useState)(!0),o=Object(W.a)(c,2),i=o[0],u=o[1],d=Object(p.useState)(!1),m=Object(W.a)(d,2),b=m[0],j=m[1],f=Object(p.useState)(!1),h=Object(W.a)(f,2),x=h[0],g=h[1],O=Object(p.useState)(!1),w=Object(W.a)(O,2),v=w[0],N=w[1],y=Object(p.useState)(!1),P=Object(W.a)(y,2),M=P[0],C=P[1];return Object(p.useEffect)((function(){u(""===t.username||""===t.fullname||""===t.email||""===t.password||""===t.confirmPassword)}),[t]),Object(k.jsxs)("div",{className:"lg:w-104 w-full lg:bg-paper lg:py-8 py-4 lg:px-8 px-4\r flex flex-col items-center space-y-5 md:rounded-3xl rounded-md",children:[Object(k.jsx)("span",{className:"sm:text-2xl text-xl font-semibold",children:"Welcome"}),Object(k.jsxs)("form",{autoComplete:"off",onSubmit:s,className:"flex flex-col items-center space-y-5 w-full max-w-sm",children:[Object(k.jsx)("input",{name:"username",type:"text",placeholder:"username",value:t.username,onChange:n,className:"input-text w-full p-2 rounded-xl\n                    ".concat((null===a||void 0===a?void 0:a.username)?"border-red-500":"")}),Object(k.jsx)("input",{name:"fullname",type:"text",placeholder:"fullname",value:t.fullname,onChange:n,className:"input-text w-full p-2 rounded-xl\n                    ".concat((null===a||void 0===a?void 0:a.fullname)?"border-red-500":"")}),Object(k.jsx)("input",{name:"email",type:"text",placeholder:"email",value:t.email,onChange:n,className:"input-text w-full p-2 rounded-xl\n                    ".concat((null===a||void 0===a?void 0:a.email)?"border-red-500":"")}),Object(k.jsxs)("div",{className:"input-text w-full flex items-center rounded-xl\n                        ".concat(a.password&&"border-red-500","\n                        ").concat(v&&"border-blue-800"),children:[Object(k.jsx)("input",{name:"password",type:b?"text":"password",placeholder:"password",value:t.password,onFocus:function(){return N(!0)},onBlur:function(){return N(!1)},onChange:n,className:"w-full p-2 bg-transparent outline-none \r placeholder-gray-500 font-medium"}),""!==t.password&&Object(k.jsx)("p",{onClick:function(){return j(!b)},className:"p-2 cursor-pointer text-gray-500",children:b?"Hide":"Show"})]}),Object(k.jsxs)("div",{className:"input-text w-full flex items-center rounded-xl\n                    ".concat(a.confirmPassword&&"border-red-500","\n                    ").concat(M&&"border-blue-800"),children:[Object(k.jsx)("input",{name:"confirmPassword",type:x?"text":"password",placeholder:"confirm password",value:t.confirmPassword,onFocus:function(){return C(!0)},onBlur:function(){return C(!1)},onChange:n,className:"w-full p-2 bg-transparent outline-none \r placeholder-gray-500 font-medium"}),""!==t.confirmPassword&&Object(k.jsx)("p",{onClick:function(){return g(!x)},className:"p-2 cursor-pointer text-gray-500",children:x?"Hide":"Show"})]}),Object(k.jsx)("button",{type:"submit",disabled:i,className:"".concat(i&&"opacity-60","\n                        button button-blue w-full p-2 rounded-xl\n                        flex items-center justify-center"),children:r?Object(k.jsx)(be,{className:"sm:h-5 h-4 text-gray-200 animate-spin"}):"Register"})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(k.jsx)("p",{children:"Do you already have an account ?"}),Object(k.jsx)("p",{onClick:function(){return l.push("/login")},className:"whitespace-nowrap text-blue-600 cursor-pointer",children:"Sign in"})]}),Object.values(a).map((function(e){return Object(k.jsxs)("p",{className:"text-red-600 flex items-center",children:[Object(k.jsx)(H.d,{className:"icon"}),e]},e)}))]})},Re=Object(q.a)(m||(m=Object(K.a)(["\n     mutation register(\n          $fullname: String!\n          $username: String!\n          $email: String!\n          $password: String!\n          $confirmPassword: String!\n     ) {\n          register(\n               registerInput: {\n                    fullname: $fullname\n                    username: $username\n                    email: $email\n                    password: $password\n                    confirmPassword: $confirmPassword\n               }\n          ) {\n               id\n               fullname\n               username\n               email\n               profilePhoto\n          }\n     }\n"]))),Ke=function(){var e=Object(A.g)(),t=Object(p.useState)({fullname:"Test User",username:"testuser",email:"testuser@gmail.com",password:"test1234",confirmPassword:""}),n=Object(W.a)(t,2),s=n[0],r=n[1],a=Object(p.useState)({}),l=Object(W.a)(a,2),c=l[0],o=l[1],i=Object(R.useMutation)(Re,{update:function(t,n){var s=n.data;Z.login(s.register),e.push("/")},onError:function(e){console.log(e.message),o(e.graphQLErrors[0].extensions.errors)}}),u=Object(W.a)(i,2),d=u[0],m=u[1].loading;return Object(k.jsx)(We,{values:s,onChangeValues:function(e){r(Object(N.a)(Object(N.a)({},s),{},Object(Ze.a)({},e.target.name,e.target.value)))},onSubmitRegister:function(e){e.preventDefault();s.email.match(/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/)?s.password!==s.confirmPassword?o({confirmPassword:"Passwords are not equal"}):d({variables:s}):o({email:"The email entered is not valid"})},loading:m,errors:c})},qe=function(e,t,n){var s=n.variables.username;return function(){e({document:t,variables:{username:s},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var r=n.data.newFollow,a=r.follower,l=r.followed;return e.getUser.following&&a.username===s?Object.assign({},e,{getUser:{following:[].concat(Object(De.a)(e.getUser.following),[l])}}):e.getUser.followers&&l.username===s?Object.assign({},e,{getUser:{followers:[].concat(Object(De.a)(e.getUser.followers),[a])}}):void 0}})}},$e=function(e,t,n){var s=n.variables.username;return function(){e({document:t,variables:{username:s},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;var r=n.data.newUnfollow,a=r.nonFollower,l=r.nonFollowed;return e.getUser.following&&a.username===s?Object.assign({},e,{getUser:{following:e.getUser.following.filter((function(e){return e.id!==l.id}))}}):e.getUser.followers&&l.username===s?Object.assign({},e,{getUser:{followers:e.getUser.followers.filter((function(e){return e.id!==a.id}))}}):void 0}})}},_e=Object(q.a)(b||(b=Object(K.a)(["\n\n   subscription newFollow(\n      $username: String!\n   ) {\n      newFollow(\n         username: $username\n      ) {\n         follower{\n            id\n            username\n            fullname\n            profilePhoto\n         }\n         followed{\n            id\n            username\n            fullname\n            profilePhoto\n         }\n      }\n   }\n"]))),et=Object(q.a)(j||(j=Object(K.a)(["\n\n   subscription newUnfollow(\n      $username: String!\n   ) {\n      newUnfollow(\n         username: $username\n      ) {\n         nonFollower{\n            id\n            username\n            fullname\n            profilePhoto\n         }\n         nonFollowed{\n            id\n            username\n            fullname\n            profilePhoto\n         }\n      }\n   }\n"]))),tt=Object(P.b)((function(e){return{themeMode:e.themeState.themeMode}}))((function(e){var t=e.themeMode,n=e.getUser,s=Object(p.useState)(!1),r=Object(W.a)(s,2),a=r[0],l=r[1],c=Object(p.useState)("followers"),o=Object(W.a)(c,2),i=o[0],u=o[1],d=Object(A.g)();return Object(k.jsxs)("div",{className:"flex items-center sm:space-x-6 space-x-4 mt-2",children:[Object(k.jsxs)("button",{onClick:function(){u("following"),l(!0)},className:"button hover-active-gray rounded-md\r flex items-center space-x-1",children:[Object(k.jsx)("p",{className:"font-semibold",children:Object.keys(n.following).length}),Object(k.jsx)("p",{className:"text-disabled",children:"following"})]}),Object(k.jsxs)("button",{onClick:function(){u("followers"),l(!0)},className:"button hover-active-gray rounded-md\r flex items-center space-x-1",children:[Object(k.jsx)("p",{className:"font-semibold",children:Object.keys(n.followers).length}),Object(k.jsx)("p",{className:"text-disabled",children:"followers"})]}),Object(k.jsx)(I.a,{as:"div",className:"".concat(t," fixed z-50 inset-0 overflow-y-auto\n            sm:text-sm text-xs text-default"),open:a,onClose:function(){return l(!1)},children:Object(k.jsxs)("div",{className:"min-h-screen px-2 text-center",children:[Object(k.jsx)(I.a.Overlay,{className:"fixed inset-0 bg-shadow opacity-50"}),Object(k.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(k.jsxs)("div",{className:"inline-block w-full lg:max-w-2xl sm:max-w-xl max-w-md\r lg:h-96 sm:h-80 h-64 sm:p-4 p-2 overflow-hidden\r align-middle transition-all transform bg-default rounded-2xl",children:[Object(k.jsx)("button",{onClick:function(){return l(!1)},children:Object(k.jsx)(H.i,{className:"button sm:h-6 h-4 hover-blue active-blue \r absolute origin-top-left top-2 left-2 rounded-full text-icon"})}),Object(k.jsxs)("div",{className:"flex space-x-4 w-full sm:h-12 h-10 sm:text-base",children:[Object(k.jsx)("button",{onClick:function(){return u("followers")},className:"w-1/2 button hover-blue active-blue font-semibold text-disabled\r flex items-center justify-center rounded-md",children:Object(k.jsx)("p",{className:"sm:px-2 h-full flex items-center justify-center\n                           ".concat("followers"===i&&"border-b-4 border-blue-700 text-blue-700"),children:"Followers"})}),Object(k.jsx)("button",{onClick:function(){return u("following")},className:"w-1/2 button hover-blue active-blue font-semibold text-disabled\r flex items-center justify-center rounded-md",children:Object(k.jsx)("p",{className:"sm:px-2 h-full flex items-center justify-center\n                           ".concat("following"===i&&"border-b-4 border-blue-700 text-blue-700"),children:"Following"})})]}),"followers"===i&&Object(k.jsx)("div",{className:"sm:mt-4 mt-2 flex flex-col space-y-2",children:n.followers.map((function(e){return Object(k.jsxs)("div",{onClick:function(){d.push("/".concat(e.username)),l(!1)},className:"button hover-blue active-blue rounded-md flex\r items-center py-1",children:[Object(k.jsx)("div",{className:" sm:h-12 sm:w-12 h-10 w-10 p-2 rounded-full",children:Object(k.jsx)("img",{className:"object-cover rounded-full h-full w-full",src:e.profilePhoto?e.profilePhoto:X,alt:"avatar"})}),Object(k.jsxs)("div",{className:"flex flex-col flex-grow items-start ml-1",children:[Object(k.jsx)("h1",{className:"font-semibold whitespace-nowrap",children:e.fullname}),Object(k.jsxs)("h1",{className:"text-disabled font-sans",children:["@",e.username]})]})]},e.id)}))}),"following"===i&&Object(k.jsx)("div",{className:"sm:mt-4 mt-2 flex flex-col space-y-2",children:n.following.map((function(e){return Object(k.jsxs)("div",{onClick:function(){d.push("/".concat(e.username)),l(!1)},className:"button hover-blue active-blue rounded-md flex\r items-center py-1",children:[Object(k.jsx)("div",{className:" sm:h-12 sm:w-12 h-10 w-10 p-2 rounded-full",children:Object(k.jsx)("img",{className:"object-cover rounded-full h-full w-full",src:e.profilePhoto?e.profilePhoto:X,alt:"avatar"})}),Object(k.jsxs)("div",{className:"flex flex-col flex-grow items-start ml-1",children:[Object(k.jsx)("h1",{className:"font-semibold whitespace-nowrap",children:e.fullname}),Object(k.jsxs)("h1",{className:"text-disabled font-sans",children:["@",e.username]})]})]},e.id)}))})]})]})})]})})),nt=function(e){var t=e.getUser,n=e.userAuth;return Object(k.jsxs)("div",{className:"sm:ml-4 ml-2 sm:mt-20 mt-12",children:[Object(k.jsx)("h1",{className:"sm:text-xl text-lg font-bold",children:t.fullname}),Object(k.jsxs)("h1",{className:"sm:text-lg text-base font-semibold text-disabled font-sans",children:["@",t.username]}),Object(k.jsxs)("div",{className:"flex items-center space-x-1 text-disabled mt-2",children:[Object(k.jsx)(H.a,{className:"sm:h-5 h-4"}),Object(k.jsxs)("p",{className:"",children:["joined ",Ee()(t.createdAt).fromNow()]})]}),Object(k.jsx)(tt,{getUser:t,userAuth:n})]})},st=Object(q.a)(f||(f=Object(K.a)(["\n   mutation updateUser(\n      $id: ID!\n      $fullname: String!\n      $username: String!\n      $website: String!\n      $about: String!\n      $profilePhoto: String!\n      $coverPhoto: String!\n   ) {\n      updateUser(\n         updateUserInput: {\n            id: $id\n            fullname: $fullname\n            username: $username\n            website: $website\n            about: $about\n            profilePhoto: $profilePhoto\n            coverPhoto: $coverPhoto\n         }\n      ) {\n         id\n         fullname\n         username\n         website\n         about\n         profilePhoto\n         coverPhoto\n         followers{\n            id\n         }\n         following{\n            id\n         }\n      }\n   }\n"]))),rt=function(e){var t=e.setShowPaper,n=e.values,s=e.setValues,r=e.files,a=e.setFiles,l=function(e){e.target.files[0]&&(a(Object(N.a)(Object(N.a)({},r),{},Object(Ze.a)({},e.target.name+"File",e.target.files[0]))),s(Object(N.a)(Object(N.a)({},n),{},Object(Ze.a)({},e.target.name,URL.createObjectURL(e.target.files[0])))))};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{onClick:function(){t("info")},className:"absolute button origin-top-left\r sm:top-3 sm:right-3 top-2 left-2\r py-1 px-2 rounded-3xl border-2 border-opacity-60\r border-blue-600 font-semibold hover-active-blue",children:"Profile Info"}),Object(k.jsxs)("form",{className:"relative flex flex-col justify-center h-full",children:[Object(k.jsxs)("div",{className:"w-full rounded-md bg-paper lg:h-44 sm:h-32 h-24\r flex items-center justify-center bg-cover bg-center bg-no-repeat\r sm:mb-10 mb-6",style:{backgroundImage:"url(".concat(""!==n.coverPhoto&&n.coverPhoto,")")},children:[Object(k.jsx)("label",{className:"button bg-gray-600 bg-opacity-50 rounded-full p-1 hover-blue \r active-blue text-gray-200",htmlFor:"coverPhoto",children:Object(k.jsx)(H.g,{className:"sm:h-8 h-4"})}),Object(k.jsx)("input",{onChange:l,className:"hidden",name:"coverPhoto",id:"coverPhoto",type:"file",accept:"image/*"})]}),Object(k.jsx)("div",{className:"absolute origin-top-left \r lg:top-28 top-20 sm:left-4 left-2 bg-default\r rounded-full sm:p-2 p-1",children:Object(k.jsxs)("div",{className:"bg-paper rounded-full\r bg-cover bg-center bg-no-repeat \r lg:h-40 lg:w-40 sm:h-28 sm:w-28 h-16 w-16\r flex items-center justify-center",style:{backgroundImage:"url(".concat(""!==n.profilePhoto&&n.profilePhoto,")")},children:[Object(k.jsx)("label",{className:"button bg-gray-600 bg-opacity-50 rounded-full p-1 hover-blue \r active-blue text-gray-200",htmlFor:"profilePhoto",children:Object(k.jsx)(H.b,{className:"sm:h-8 h-4"})}),Object(k.jsx)("input",{onChange:l,className:"hidden",name:"profilePhoto",id:"profilePhoto",type:"file",accept:"image/*"})]})})]})]})},at=function(e){var t=e.getUser,n=e.setShowPaper,s=e.values,r=e.setValues,a=function(e){r(Object(N.a)(Object(N.a)({},s),{},Object(Ze.a)({},e.target.name,e.target.value)))};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{onClick:function(){n("about")},className:"absolute button origin-top-left\r sm:top-3 sm:right-3 top-2 left-2\r py-1 px-2 rounded-3xl border-2 border-opacity-60\r border-blue-600 font-semibold hover-active-blue",children:"About You"}),Object(k.jsxs)("form",{autoComplete:"off",className:"w-full h-full flex flex-col sm:justify-center justify-start\r lg:px-8 sm:px-6 px-2 sm:space-y-2",children:[Object(k.jsxs)("div",{className:"flex flex-col items-start",children:[Object(k.jsx)("p",{className:"p-1 font-semibold",children:"User Name"}),Object(k.jsx)("input",{disabled:!0,onChange:a,className:"input-text w-full p-1 rounded-md",type:"text",name:"username",placeholder:t.username,value:s.username})]}),Object(k.jsxs)("div",{className:"flex flex-col items-start",children:[Object(k.jsx)("p",{className:"p-1 font-semibold",children:"Full Name"}),Object(k.jsx)("input",{onChange:a,className:"input-text w-full p-1 rounded-md",type:"text",name:"fullname",placeholder:t.fullname,value:s.fullname})]}),Object(k.jsxs)("div",{className:"flex flex-col items-start",children:[Object(k.jsx)("p",{className:"p-1 font-semibold",children:"Web Site"}),Object(k.jsx)("input",{onChange:a,className:"input-text w-full p-1 rounded-md",type:"text",name:"website",placeholder:t.website,value:s.website})]})]})]})},lt=function(e){var t=e.setShowPaper,n=e.getUser,s=e.values,r=e.setValues;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{onClick:function(){t("pictures")},className:"absolute button origin-top-left\r sm:top-3 sm:right-3 top-2 left-2\r py-1 px-2 rounded-3xl border-2 border-opacity-60\r border-blue-600 font-semibold hover-active-blue",children:"Pictures"}),Object(k.jsx)("form",{className:"w-full h-full flex flex-col justify-center lg:p-8 p-4",children:Object(k.jsxs)("div",{className:"flex flex-col items-start h-full",children:[Object(k.jsx)("p",{className:"p-1 font-semibold",children:"About You"}),Object(k.jsx)("textarea",{onChange:function(e){r(Object(N.a)(Object(N.a)({},s),{},Object(Ze.a)({},e.target.name,e.target.value)))},maxLength:"250",className:"input-text w-full h-full",name:"about",placeholder:n.about,value:s.about})]})})]})},ct=function(e){e.setShowPaper;var t=e.error;return Object(k.jsx)("div",{className:"h-full w-full flex items-center justify-center",children:t?Object(k.jsx)("p",{className:"sm:text-lg font-semibold text-red-600",children:t}):Object(k.jsx)("p",{className:"sm:text-lg font-semibold text-green-600",children:"changes were saved successfully"})})},ot=Object(P.b)((function(e){return{themeMode:e.themeState.themeMode}}))((function(e){var t=e.getUser,n=e.themeMode,s=e.showPaper,r=e.setShowPaper,a=e.values,l=e.setValues,c=e.files,o=e.setFiles,i=e.onSubmitChanges,u=e.isLoading,d=e.error,m=Object(p.useState)(!1),b=Object(W.a)(m,2),j=b[0],f=b[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{onClick:function(){return f(!0)},className:"absolute button origin-top-right lg:top-60 sm:top-48 top-32\r sm:right-4 right-2 sm:py-2 py-1 px-2 rounded-3xl border-2 border-opacity-60\r border-blue-600 font-semibold hover-active-blue sm:w-32 w-28\r flex items-center justify-center",children:"Set up profile"}),Object(k.jsx)(I.a,{as:"div",className:"".concat(n," fixed z-50 inset-0 overflow-y-auto\n            sm:text-sm text-xs text-default"),open:j,onClose:function(){f(!1),r("pictures")},children:Object(k.jsxs)("div",{className:"min-h-screen px-2 text-center",children:[Object(k.jsx)(I.a.Overlay,{className:"fixed inset-0 bg-shadow opacity-50"}),Object(k.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(k.jsxs)("div",{className:"inline-block w-full lg:max-w-2xl sm:max-w-xl max-w-md\r lg:h-96 sm:h-80 h-64 sm:py-14 py-10 px-2 overflow-hidden\r align-middle transition-all transform bg-default rounded-2xl",children:[Object(k.jsx)("button",{onClick:function(){f(!1),r("pictures")},className:"button absolute z-40 origin-top-right top-2 right-2\r rounded-full text-icon p-1 hover-active-gray bg-default",children:Object(k.jsx)(H.i,{className:"sm:h-5 h-4"})}),"pictures"===s&&Object(k.jsx)(rt,{getUser:t,setShowPaper:r,values:a,setValues:l,files:c,setFiles:o}),"info"===s&&Object(k.jsx)(at,{getUser:t,setShowPaper:r,values:a,setValues:l}),"about"===s&&Object(k.jsx)(lt,{getUser:t,setShowPaper:r,values:a,setValues:l}),"message"===s&&Object(k.jsx)(ct,{setShowPaper:r,error:d}),"message"!==s&&Object(k.jsx)("button",{onClick:i,className:"absolute origin-bottom-right \r sm:bottom-3 sm:right-3 bottom-2 right-2\r button button-blue sm:py-2 py-1 rounded-full\r ml-auto sm:w-20 w-16 flex items-center justify-center",children:u?Object(k.jsx)(be,{className:"animate-spin sm:h-5 h-4",viewBox:"0 0 24 24"}):"Save"})]})]})})]})})),it=function(e){var t=e.getUser,n=Object(p.useState)("pictures"),s=Object(W.a)(n,2),r=s[0],a=s[1],l=Object(p.useState)(null),c=Object(W.a)(l,2),o=c[0],i=c[1],u=Object(p.useState)(!1),d=Object(W.a)(u,2),m=d[0],b=d[1],j=Object(p.useState)({profilePhotoFile:null,coverPhotoFile:null}),f=Object(W.a)(j,2),h=f[0],x=f[1],g=Object(p.useState)({profilePhoto:t.profilePhoto,coverPhoto:t.coverPhoto,username:t.username,fullname:t.fullname,about:t.about,website:t.website}),O=Object(W.a)(g,2),w=O[0],v=O[1],y=Object(A.g)(),P=Object(R.useMutation)(st,{update:function(e,t){var n=t.data;Z.login(n.updateUser),a("message"),setTimeout((function(){y.push("/"+n.updateUser.username)}),500)},onError:function(e){console.log(e),i(e.message),a("message")}}),M=Object(W.a)(P,2),C=M[0],D=M[1].loading,I=function(){var e=Object(oe.a)(ce.a.mark((function e(n){var s,r,l,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ue(h.profilePhotoFile,i);case 3:return s=e.sent,e.next=6,ue(h.coverPhotoFile,i);case 6:if(r=e.sent,!o){e.next=11;break}a("message"),e.next=19;break;case 11:return e.next=13,ie(s,b);case 13:return l=e.sent,e.next=16,ie(r,b);case 16:return c=e.sent,e.next=19,C({variables:Object(N.a)(Object(N.a)({},w),{},{id:t.id,profilePhoto:""!==l?l:t.profilePhoto,coverPhoto:""!==c?c:t.coverPhoto})});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.useEffect)((function(){b(!!D)}),[D]),Object(k.jsx)(ot,{getUser:t,showPaper:r,setShowPaper:a,values:w,setValues:v,files:h,setFiles:x,onSubmitChanges:I,setError:i,error:o,isLoading:m})},ut=Object(q.a)(h||(h=Object(K.a)(["\n   mutation followUser(\n      $followerId: ID!\n      $followedId: ID!\n   ) {\n      followUser(\n         followUserInput: {\n            followerId: $followerId\n            followedId: $followedId\n         }\n      )\n   }\n"]))),dt=function(e){var t=e.getUser,n=e.userAuth,s=Object(p.useState)(!!t.followers.find((function(e){return e.id===n.id}))),r=Object(W.a)(s,2),a=r[0],l=r[1],c=Object(R.useMutation)(ut,{update:function(e,t){var n=t.data;l(n.followUser)},onError:function(e){console.log(e.message)}}),o=Object(W.a)(c,2),i=o[0],u=o[1].loading;return Object(p.useEffect)((function(){l(!!t.followers.find((function(e){return e.id===n.id})))}),[l,t,n]),Object(k.jsx)("button",{onClick:function(){i({variables:{followerId:n.id,followedId:t.id}})},className:"absolute button origin-top-right lg:top-60 sm:top-48 top-32\r sm:right-4 right-2 sm:py-2 py-1 px-3 rounded-3xl border-2 border-opacity-60\r border-blue-600 font-semibold hover-active-blue sm:w-24 w-20\r flex items-center justify-center",children:u?Object(k.jsx)(be,{className:"animate-spin sm:h-5 h-4",viewBox:"0 0 24 24"}):a?"Unfollow":"Follow"})},mt=function(e){var t=e.getUser,n=e.userAuth;return Object(k.jsxs)("div",{className:"w-full relative",children:[Object(k.jsx)("div",{className:"lg:h-56 sm:h-44 h-28 bg-paper rounded-xl\r bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(""!==t.coverPhoto&&t.coverPhoto,")")}}),Object(k.jsx)("div",{className:"absolute origin-top-left lg:top-36 sm:top-28 top-16\r sm:left-4 left-2 bg-default rounded-full sm:p-2 p-1\r lg:h-36 lg:w-36 sm:h-32 sm:w-32 h-20 w-20",children:Object(k.jsx)("img",{src:""!==t.profilePhoto?t.profilePhoto:X,alt:"avatar",className:"h-full w-full rounded-full bg-paper object-cover"})}),Object(k.jsx)(nt,{getUser:t,userAuth:n}),n.username===t.username&&Object(k.jsx)(it,{getUser:t,userAuth:n}),n.username!==t.username&&Object(k.jsx)(dt,{getUser:t,userAuth:n})]})},bt=function(e){var t=e.userAuth,n=e.loading,s=e.data,r=e.error,a=e.subscribeToNewFollow,l=e.subscribeToNewUnfollow;return Object(p.useEffect)((function(){a(),l()}),[]),n?Object(k.jsx)("div",{className:"w-full h-full xl:pl-72 sm:pl-20\r sm:pb-2 pb-14 sm:pt-24 pt-16",children:Object(k.jsx)("div",{className:"w-full h-1/2 flex items-center justify-center",children:Object(k.jsx)(be,{className:"h-10 text-blue-600 animate-spin"})})}):r?Object(k.jsx)("div",{className:"w-full h-full xl:pl-72 sm:pl-20\r sm:pb-2 pb-14 sm:pt-24 pt-16",children:Object(k.jsx)("p",{children:r.message})}):Object(k.jsx)("div",{className:"w-full h-full xl:pl-72 sm:pl-20\r sm:pb-2 pb-16 sm:pt-24 pt-16",children:Object(k.jsx)(mt,{getUser:s.getUser,userAuth:t})})},jt=Object(P.b)((function(e){return{userAuth:e.userState.userAuth}}))((function(e){var t=e.userAuth,n=Object(A.i)().username,s=Object(R.useQuery)($,{variables:{username:n}}),r=s.subscribeToMore,a=Object(y.a)(s,["subscribeToMore"]),l=qe(r,_e,{variables:{username:n}}),c=$e(r,et,{variables:{username:n}});return Object(k.jsx)(bt,Object(N.a)(Object(N.a)({userAuth:t},a),{},{subscribeToNewFollow:l,subscribeToNewUnfollow:c}))})),ft=Object(q.a)(x||(x=Object(K.a)(["\n   query getPost(\n      $postId: ID!\n      $username: String!\n   ) {\n      getPost(\n         getPostInput: {\n            postId: $postId\n            username: $username\n         }\n      ) {\n         id\n         content\n         images\n         user{\n            id\n            username\n            fullname\n            profilePhoto\n         }\n         comments{\n            id\n            content\n            user {\n               id\n               username\n               fullname\n               profilePhoto\n            }\n            likes {\n               id\n               username\n               fullname\n               profilePhoto\n            }\n            comments {\n               id\n               content\n            }\n            createdAt\n         }\n         likes{\n            id\n            username\n            fullname\n            profilePhoto\n         }\n         createdAt\n         updatedAt\n      }\n   }\n"]))),ht=function(e,t,n){var s=n.variables.postId;return function(){e({document:t,variables:{postId:s},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data||!e.getPost)return e;var s=n.data.newLikePost.userLike;return e.getPost.likes.find((function(e){return e.id===s.id}))?Object.assign({},e,{getPost:Object.assign({},e.getPost,{likes:e.getPost.likes.filter((function(e){return e.id!==s.id}))})}):Object.assign({},e,{getPost:Object.assign({},e.getPost,{likes:[].concat(Object(De.a)(e.getPost.likes),[s])})})}})}},xt=function(e,t,n){var s=n.variables.postId;return function(){e({document:t,variables:{postId:s},updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data||!e.getPost)return e;var s=n.data.newCommentPost.comment;return Object.assign({},e,{getPost:Object.assign({},e.getPost,{comments:[].concat(Object(De.a)(e.getPost.comments),[s])})})}})}},pt=function(e){var t=e.post,n=e.userAuth,s=e.onClickLike,r=e.newLikeForGetPost,a=Object(p.useState)(!1),l=Object(W.a)(a,2),c=l[0],o=l[1];return Object(p.useEffect)((function(){o(!!t.likes.find((function(e){return e.id===n.id})))}),[r]),Object(k.jsx)("div",{className:"w-full h-full xl:pl-72 sm:pl-20\r sm:pb-2 pb-14 sm:pt-24 pt-16",children:Object(k.jsxs)("div",{className:"w-full flex flex-col space-y-4 pb-1 sm:pr-2 h-full\r overflow-auto overscroll-contain",children:[Object(k.jsxs)("div",{className:"flex flex-col space-y-2 w-full sm:p-4 p-2 \r bg-paper sm:rounded-3xl rounded-md",children:[Object(k.jsx)("div",{className:"flex items-center mb-2",children:Object(k.jsx)(Be,{profilePhoto:t.user.profilePhoto,fullname:t.user.fullname,username:t.user.username})}),""!==t.content&&Object(k.jsx)("div",{children:Object(k.jsx)("p",{className:"sm:text-base",children:t.content})}),t.images.length>0&&""!==t.images[0]&&Object(k.jsx)("div",{className:"w-full",children:Object(k.jsx)("img",{src:t.images[0],alt:"postImage",className:"w-full h-full object-cover rounded-md"})}),Object(k.jsxs)("div",{className:"flex items-center space-x-3 text-icon",children:[Object(k.jsx)(Te,{isLiked:c,onClickLike:s,likes:t.likes}),Object(k.jsx)(Ye,{post:t,userAuth:n})]}),Object(k.jsx)("p",{className:"text-disabled px-1",children:Ee()(t.createdAt).fromNow()})]}),t.comments.map((function(e){return Object(k.jsxs)("div",{className:"flex flex-col space-y-2 bg-paper sm:rounded-3xl\r rounded-md sm:p-4 p-2",children:[Object(k.jsx)(Be,{profilePhoto:e.user.profilePhoto,fullname:e.user.fullname,username:e.user.username}),Object(k.jsx)("p",{children:e.content}),Object(k.jsx)("p",{className:"text-disabled px-1",children:Ee()(t.createdAt).fromNow()})]},e.id)}))]})})},gt=Object(P.b)((function(e){return{userAuth:e.userState.userAuth}}))((function(e){var t=e.userAuth,n=Object(A.i)(),s=n.username,r=n.postId,a=Object(R.useQuery)(ft,{variables:{postId:r,username:s}}),l=a.subscribeToMore,c=a.loading,o=a.error,i=a.data,u=Object(R.useMutation)(ke,{onError:function(e){console.log(e)}}),d=Object(W.a)(u,1)[0],m=function(){var e=Object(oe.a)(ce.a.mark((function e(n){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({variables:{postId:r,userId:t.id}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=ht(l,Me,{variables:{postId:r}}),j=xt(l,Ce,{variables:{postId:r}});return Object(p.useEffect)((function(){b(),j()}),[]),c?Object(k.jsx)("div",{className:"w-full h-full xl:pl-72 sm:pl-20\r sm:pb-2 pb-14 sm:pt-24 pt-16",children:Object(k.jsx)("div",{className:"w-full h-1/2 flex items-center justify-center",children:Object(k.jsx)(be,{className:"h-10 text-blue-600 animate-spin"})})}):o?Object(k.jsx)("div",{className:"w-full h-full xl:pl-72 sm:pl-20\r sm:pb-2 pb-14 sm:pt-24 pt-16",children:Object(k.jsx)("p",{children:o.message})}):Object(k.jsx)(pt,{post:null===i||void 0===i?void 0:i.getPost,userAuth:t,onClickLike:m,newLikeForGetPost:b})})),Ot=function(){return Object(k.jsx)("div",{children:Object(k.jsx)("h1",{children:"error"})})},wt=function(){return Object(k.jsx)(v.a,{children:Object(k.jsx)(ye,{children:Object(k.jsxs)(A.d,{children:[Object(k.jsx)(C,{exact:!0,path:"/",component:Ue}),Object(k.jsx)(M,{exact:!0,path:"/login",component:Ve}),Object(k.jsx)(M,{path:"/register",component:Ke}),Object(k.jsx)(C,{path:"/:username/:postId",component:gt}),Object(k.jsx)(C,{path:"/:username",component:jt}),Object(k.jsx)(A.b,{component:Ot})]})})})},vt=(n(109),n(110),n(56)),At=n(3),Nt=n(87),yt=Object(R.createHttpLink)({uri:"https://eduargabriel7-community-server.herokuapp.com/graphql"}),Pt=new Nt.a({uri:"ws://eduargabriel7-community-server.herokuapp.com/graphql",options:{reconnect:!0}}),kt=Object(R.split)((function(e){var t=e.query,n=Object(At.q)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),Pt,yt),Mt=new R.ApolloClient({link:kt,cache:new R.InMemoryCache});w.a.render(Object(k.jsx)(g.a.StrictMode,{children:Object(k.jsx)(vt.ApolloProvider,{client:Mt,children:Object(k.jsx)(P.a,{store:U,children:Object(k.jsx)(wt,{})})})}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.d94f20ed.chunk.js.map